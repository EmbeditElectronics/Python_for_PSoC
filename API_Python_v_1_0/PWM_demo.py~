from rpisoc import *

RPiSoC('SPI')

My_PWM = PWM(0)
My_other_PWM = PWM(1)
                                                    
My_PWM.Start()
My_other_PWM.Start()

try:
    choice = raw_input('Change [P]eriod or [C]omparison Value: ')
    if choice =='P' or choice =='p':
        new_period = int(raw_input('New Period: '))
        My_PWM.WritePeriod(new_period)
    elif choice == 'C' or choice == 'c':
        new_compare = int(raw_input('New Compare: '))
        My_PWM.WriteCompare(new_compare)
    else:
        print ('Invalid input!!!')
    print('PERIOD ----- COMPARE')
    print(My_PWM.ReadPeriod(), My_PWM.WritePeriod())
    

except KeyboardInterrupt:
    RPiSoC.commChannel.close()
