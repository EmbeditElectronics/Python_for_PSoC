from rpisoc import * #import contents of rpisoc module ; includes all dependencies

RPiSoC('SPI') #Establish connection to RPiSoC over SPI
ADC1  = ADC('DELSIG') #initialize a DELSIG ADC with an object named ADC1

out_3v3 = DigitalOutput(5,0)#Initialize a digital output on the 3.3V port
out_3v3.Write(1)#Bring 3v3 pin HIGH

try: #exception handling, not crucial but it is advised.
    while True:

        ADC1.Start()#Start ADC initialized by object ADC1
        ADC_counts = ADC1.Read()#Get output of ADC
        Voltage = ADC1.CountsTo_Volts(ADC_counts)#Convert output to a Voltage
        ADC1.Stop()#Stop ADC

        print('ADC OUTPUT: ',ADC_counts) #Print Counts and Voltage
        print('VOLTAGE:    ', Voltage)
        time.sleep(.1)#wait 100ms before retreiving the voltage again

except KeyboardInterrupt:
    RPiSoC.commChannel.close()

